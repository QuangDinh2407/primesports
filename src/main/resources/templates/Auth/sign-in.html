<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Sign in | Grocery Mart</title>

    <!-- Favicon -->
    <link rel="apple-touch-icon" sizes="76x76" th:href="@{/Assets/Customer_Shop/Assets/favicon/logo.png}" />
    <link rel="icon" type="image/png" sizes="32x32" th:href="@{/Assets/Customer_Shop/Assets/favicon/logo.png}" />
    <link rel="icon" type="image/png" sizes="16x16" th:href="@{/Assets/Customer_Shop/Assets/favicon/logo.png}" />
    <link rel="manifest" th:href="@{/Assets/Customer_Shop/Assets/favicon/logo.png}" />
    <meta name="msapplication-TileColor" content="#da532c" />
    <meta name="theme-color" content="#ffffff" />

    <!-- Fonts -->
    <link rel="stylesheet" th:href="@{/Assets/Customer_Shop/Assets/fonts/stylesheet.css}"/>

    <!-- Styles -->
    <link rel="stylesheet" th:href="@{/Assets/Customer_Shop/Assets/css/main.css}"/>
    <link rel="stylesheet" th:href="@{/Assets/Toast_Message/toastmesscss.css}">
    <link rel="stylesheet" th:href="@{/Assets/Form_Validator/validatorcss.css}" />



    <!-- Scripts -->
    <script th:src="@{/Assets/Customer_Shop/Assets/js/scripts.js}"></script>
    <script th:src="@{/Assets/Toast_Message/toastmessjs.js}"></script>
    <script th:src="@{/Assets/Form_Validator/validatorjs.js}"></script>
    <script src="https://www.google.com/recaptcha/api.js" async defer></script>

</head>
<style>
    .error-message{
        position: absolute;
        margin-top: 10px;
        left: 0;
        color: red;
    }
    .g-recaptcha{
        margin-top: 10px;
    }
</style>
<body>
<div id="toast"></div>
<main class="auth">
    <!-- Auth intro -->
    <div class="auth__intro d-md-none">
        <img th:src="@{/Assets/Customer_Shop/Assets/img/auth/intro2.png}" alt="" class="auth__intro-img" />

    </div>

    <!-- Auth content -->
    <div class="auth__content">
        <div class="auth__content-inner">
            <a th:href="@{/}" class="logo">
                <img th:src="@{/Assets/Customer_Shop/Assets/icons/logo.png}" alt="primesports" class="logo__img" />
                <h2 class="logo__title" style= "margin-left: -14px;">primesports</h2>
            </a>
            <h1 class="auth__heading">Hello Again!</h1>
            <p class="auth__desc">
                Welcome back to sign in. As a returning customer, you have access to your previously saved all
                information.
            </p>
            <form th:action="@{/auth/sign-in}" method="post" class="form auth__form" id="form-signin">
                <div class="form__group">
                    <div class="form__text-input">
                        <input
                                type="email"
                                name="username"
                                id="email"
                                placeholder="Email"
                                class="form__input"
                                autofocus
                                rule = "required|email"
                        />
                        <img th:src="@{/Assets/Customer_Shop/Assets/icons/message.svg}" alt="" class="form__input-icon" />
                        <img th:src="@{/Assets/Customer_Shop/Assets/icons/form-error.svg}" alt="" class="form__input-icon-error" />
                    </div>
                    <p class="form-message"></p>
                </div>
                <div class="form__group">
                    <div class="form__text-input">
                        <input
                                type="password"
                                name="password"
                                id="password"
                                placeholder="Password"
                                class="form__input"
                                rule = "required"
                        />
                        <img th:src="@{Assets/icons/lock.svg}" alt="" class="form__input-icon" />
                        <img th:src="@{Asets/icons/form-error.svg}" alt="" class="form__input-icon-error" />
                    </div>
                    <p class="form-message"></p>
                </div>
                <div class="form__group form__group--inline">
                    <label class="form__checkbox">
                        <input type="checkbox" name="remember-me" id="remember-me" class="form__checkbox-input d-none" />
                        <span class="form__checkbox-label">Remember sign in</span>
                    </label>
                    <a th:href="@{/auth/send-otp}" class="auth__link form__pull-right">Forgot password?</a>
                </div>

                <div class="g-recaptcha" data-sitekey="6LejbI8qAAAAABd0GBVRWsRaRjU1w1r6QnVsJ3UX"></div>

                <div th:if="${errorMessage != null}" class="error-message">
                    <span th:text="${errorMessage}"></span>
                </div>

                <div class="form__group auth__btn-group">
                    <button class="btn btn--primary auth__btn form__submit-btn">Sign In</button>
                    <a href="/oauth2/authorization/google" class="btn btn--outline auth__btn btn--no-margin">
                        <img th:src="@{/Assets/Customer_Shop/Assets/icons/google.svg}" alt="" class="btn__icon icon" />
                        Sign in with Google
                    </a>

                    <a href="/oauth2/authorization/facebook" class="btn btn--outline auth__btn btn--no-margin ">
                        <img th:src="@{/Assets/Customer_Shop/Assets/icons/facebook.svg}" alt="" class="btn__icon icon" />
                        Sign in with Facebook
                    </a>

                    <a href="/oauth2/authorization/github" class="btn btn--outline auth__btn btn--no-margin">
                        <img th:src="@{/Assets/Customer_Shop/Assets/icons/github.png}" alt="" class="btn__icon icon" />
                        Sign in with Github
                    </a>
                </div>
            </form>

            <p class="auth__text">
                Donâ€™t have an account yet?
                <a href="./sign-up" type="submit" class="auth__link auth__text-link">Sign Up</a>
            </p>
        </div>
    </div>
</main>
<script>
    window.dispatchEvent(new Event("template-loaded"));
</script>
<script>
    Validator('#form-signin');
</script>
<script th:inline="javascript">
    /*<![CDATA[*/
    const message = /*[[${message}]]*/ 'default';
    /*]]>*/
    if (message)
    {
        console.log(message);
        showErrorToast(message);
    }
</script>
</body>
</html>
